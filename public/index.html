<html>
  <head>
    <title>Web Editor</title>
    <!-- <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin" />
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp" /> -->

    <!-- <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.9.7/dist/ffmpeg.min.js"></script> -->
    
    
    <link rel="shortcut icon" href="resources/favicon.ico">
    <link defer rel="stylesheet" type="text/css" href="styles/loading-bar.min.css"/>
    <link rel="stylesheet" type="text/css" href="styles/style.css">
    
    

  </head>
  <body>
    <div class="startup-wrapper">
      <div class="startup-modal skeleton">
        <h1>getting things ready...</h1>
        <p class="line"></p>
        <p class="line"></p>
        <p class="line"></p>
      </div>
    </div>
    <section class="edit-workspace">
      <div class="top-view">
        <div class="resources-list">
          <div class="resources-top">
            <div class="resources-title">Resources</div>
            <div class="upload-controls">
              <label>
                <input type="file" id="uploader" style="display: none;" multiple />
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-upload" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="#222222" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                  <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2" />
                  <polyline points="7 9 12 4 17 9" />
                  <line x1="12" y1="4" x2="12" y2="16" />
                </svg>
              </label>
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-share" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="#222222" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                <circle cx="6" cy="12" r="3" />
                <circle cx="18" cy="6" r="3" />
                <circle cx="18" cy="18" r="3" />
                <line x1="8.7" y1="10.7" x2="15.3" y2="7.3" />
                <line x1="8.7" y1="13.3" x2="15.3" y2="16.7" />
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-info-circle" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="#222222" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                <circle cx="12" cy="12" r="9" />
                <line x1="12" y1="8" x2="12.01" y2="8" />
                <polyline points="11 12 12 12 12 16 13 16" />
              </svg>
              </div>
          </div>
          <br/>
        </div>
        <div class="preview-player-wrapper">
          <canvas class="preview-player"></canvas>

          <div class="preview-top-controls">
            <div class="container">
              <div class="dropdown">
                <div class="select">
                  <span>1920x1080</span>
                </div>
                <input type="hidden" name="gender">
                <ul class="dropdown-menu">
                  <li id="1920x1080">1920x1080</li>
                  <li id="800x400">800x400</li>
                  <li id="400x800">400x800</li>
                  <li id="Custom">Custom</li>
                </ul>
              </div>
            </div>
            <input class="preview-input-title" value="MyFirstVideo.mp4">
            <button id="preview-done">Done</button>
          </div>

          <div class="preview-bottom-controls">
            <button class="btn btn--toggle btn-toggle-js">
              <span class="toggle-elm toggle-trigger-js toogle-fit" data-action-type="fit">Fit</span>
              <span class="toggle-elm toggle-trigger-js toogle-strech toggle-active" data-action-type="strech">Strech</span>
              <span class="toggling-layer"></span>
            </button>          
            <div class="preview-player-controls">
              <!-- move back 10 seconds -->
              <button class="preview-controll-button preview-back">
                <svg xmlns="http://www.w3.org/2000/svg" 
                    class="icon icon-tabler icon-tabler-player-skip-back" 
                    width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" 
                    stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                  <path d="M20 5v14l-12 -7z" />
                  <line x1="4" y1="5" x2="4" y2="19" />
                </svg>
              </button>

              <!-- play the video -->
              <button class="preview-controll-button preview-play">
                <svg xmlns="http://www.w3.org/2000/svg" 
                    class="icon icon-tabler icon-tabler-player-play" 
                    width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" 
                    stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                  <path d="M7 4v16l13 -8z" />
                </svg>
              </button>

              <!-- pause the video -->
              <button class="preview-controll-button preview-pause">
                <svg xmlns="http://www.w3.org/2000/svg" 
                    class="icon icon-tabler icon-tabler-player-pause" 
                    width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" 
                    stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                  <rect x="6" y="5" width="4" height="14" rx="1" />
                  <rect x="14" y="5" width="4" height="14" rx="1" />
                </svg>
              </button>

              <!-- move forward 10 seconds -->
              <button class="preview-controll-button preview-forward">
                <svg xmlns="http://www.w3.org/2000/svg" 
                    class="icon icon-tabler icon-tabler-player-skip-forward" 
                    width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" 
                    stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                  <path d="M4 5v14l12 -7z" />
                  <line x1="20" y1="5" x2="20" y2="19" />
                </svg>
              </button>
            </div>
            <div class="preview-time">
              <span id="current-video-duration">0:00</span>/<span id="full-video-duration">0:00</span>
            </div>
          </div>
        </div>
      </div>
      <div class="bottom-view">
        <div class=tooltip-duration></div>
        <div class="bottom-scrollable">
          <canvas id="timeline-canvas"></canvas>
          <div class="timeline">
            
          </div>
          
        </div>
      </div>
      <div class="dragging-item"></div>
      <div id="trim-modal">
        <div id="trim-modal-start-time">0:00</div>
        <div id="trim-modal-end-time">5:00</div>
        <div id="trim-modal-done">Done</div>
      </div>
      <div id="context-menu">
        <table>
          <tr>
            <td><button id='trim-video'>Trim</button></td>
          </tr>
          <tr>
            <td><button id='split-video'>Split</button></td>
          </tr>
          <tr id="last-section">
            <td><button id='fit-strech-video'>Copy</button></td>
          </tr>
          <tr>
            <td><button>Delete</button></td>
          </tr>
        </table>
      </div>
      <div id="timeline-playback-bar"></div>
      <p id="message" style="position: absolute;"></p>
      <div class="modal-wrapper">
        <div class="modal">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left close-modal" width="28" height="28" viewBox="0 0 24 24" stroke-width="2" stroke="#222222" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <line x1="5" y1="12" x2="19" y2="12" />
            <line x1="5" y1="12" x2="11" y2="18" />
            <line x1="5" y1="12" x2="11" y2="6" />
          </svg>
          <div class="default-modal-content">
            <span id="modal-title">Ready to start rendering</span>
            <img id="modal-placeholder-img" src="resources/beginRender2.png" />
          </div>
          <div class="loading-wrapper">
            <div id="progress-bar" 
              class="ldBar label-center"
              style="width:100%;height:113px"
              data-preset="circle"
              data-value="0">
            </div>
            <p id="load-logs">
            </p>
            <a target="_blank" id="download-button">Download</a>
          </div>
          
          <button id="start-render">Render</button>
        </div>
      </div>
    </section>
    <script src="scripts/jquery-1.12.4.min.js"></script>
    <script src="scripts/jquery-ui.min.js"></script>
    <script defer src="scripts/jquery.ui.touch-punch.min.js"></script>

    <script async src="scripts/helper.js"></script>
    <script async src="scripts/videoHandler.js"></script>
    <script async src="scripts/script.js"></script>
    
    <script defer src="scripts/ffmpeg.min.js"></script>
    <script defer src="scripts/videoTranscode.js"></script>
    <script defer type="text/javascript" src="scripts/loading-bar.min.js"></script>
  </body>
</html>
